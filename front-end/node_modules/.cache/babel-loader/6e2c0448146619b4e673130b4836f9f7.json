{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\pscq2\\\\Desktop\\\\STUDY\\\\Animal-behavior\\\\front-end\\\\src\\\\Main\\\\Upload.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useCallback, useRef, useState, useEffect } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Upload = () => {\n  _s();\n\n  const [isDragging, setIsDragging] = useState(false);\n  const [files, setFiles] = useState([]);\n  const dragRef = useRef(null);\n  const fileId = useRef(0);\n  const onChangeFiles = useCallback(e => {\n    let selectFiles = [];\n    let tempFiles = files;\n\n    if (e.type === \"drop\") {\n      selectFiles = e.dataTransfer.files;\n    } else {\n      selectFiles = e.target.files;\n    }\n\n    for (const file of selectFiles) {\n      tempFiles = [...tempFiles, {\n        id: fileId.current++,\n        object: file\n      }];\n    }\n\n    setFiles(tempFiles);\n  }, [files]);\n  const handleFilterFile = useCallback(id => {\n    setFiles(files.filter(file => file.id !== id));\n  }, [files]);\n  const handleDragIn = useCallback(e => {\n    e.preventDefault();\n    e.stopPropagation();\n  }, []);\n  const handleDragOut = useCallback(e => {\n    e.preventDefault();\n    e.stopPropagation();\n    setIsDragging(false);\n  }, []);\n  const handleDragOver = useCallback(e => {\n    e.preventDefault();\n    e.stopPropagation();\n\n    if (e.dataTransfer.files) {\n      setIsDragging(true);\n    }\n  }, []);\n  const handleDrop = useCallback(e => {\n    e.preventDefault();\n    e.stopPropagation();\n    onChangeFiles(e);\n    setIsDragging(false);\n  }, [onChangeFiles]);\n  const initDragEvents = useCallback(() => {\n    if (dragRef.current !== null) {\n      dragRef.current.addEventListener(\"dragenter\", handleDragIn);\n      dragRef.current.addEventListener(\"dragleave\", handleDragOut);\n      dragRef.current.addEventListener(\"dragover\", handleDragOver);\n      dragRef.current.addEventListener(\"drop\", handleDrop);\n    }\n  }, [handleDragIn, handleDragOut, handleDragOver, handleDrop]);\n  const resetDragEvents = useCallback(() => {\n    if (dragRef.current !== null) {\n      dragRef.current.removeEventListener(\"dragenter\", handleDragIn);\n      dragRef.current.removeEventListener(\"dragleave\", handleDragOut);\n      dragRef.current.removeEventListener(\"dragover\", handleDragOver);\n      dragRef.current.removeEventListener(\"drop\", handleDrop);\n    }\n  }, [handleDragIn, handleDragOut, handleDragOver, handleDrop]);\n  useEffect(() => {\n    initDragEvents();\n    return () => resetDragEvents();\n  }, [initDragEvents, resetDragEvents]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"DragDrop\",\n    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"file\",\n      id: \"fileUpload\",\n      style: {\n        display: \"none\"\n      },\n      multiple: true,\n      onChange: onChangeFiles\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      className: isDragging ? \"DragDrop-File-Dragging\" : \"DragDrop-File\",\n      htmlFor: \"fileUpload\",\n      ref: dragRef,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        children: \"\\uD30C\\uC77C \\uCCA8\\uBD80\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"DragDrop-Files\",\n      children: files.length > 0 && files.map(file => {\n        const {\n          id,\n          object: {\n            name\n          }\n        } = file;\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 138,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"DragDrop-Files-Filter\",\n            onClick: () => handleFilterFile(id),\n            children: \"X\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 139,\n            columnNumber: 19\n          }, this)]\n        }, id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 17\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 111,\n    columnNumber: 7\n  }, this);\n};\n\n_s(Upload, \"HqKHhrrEay8LUEcHFrG4rt3XBrY=\");\n\n_c = Upload;\nexport default Upload;\n\nvar _c;\n\n$RefreshReg$(_c, \"Upload\");","map":{"version":3,"names":["React","useCallback","useRef","useState","useEffect","Upload","isDragging","setIsDragging","files","setFiles","dragRef","fileId","onChangeFiles","e","selectFiles","tempFiles","type","dataTransfer","target","file","id","current","object","handleFilterFile","filter","handleDragIn","preventDefault","stopPropagation","handleDragOut","handleDragOver","handleDrop","initDragEvents","addEventListener","resetDragEvents","removeEventListener","display","length","map","name"],"sources":["C:/Users/pscq2/Desktop/STUDY/Animal-behavior/front-end/src/Main/Upload.tsx"],"sourcesContent":["import React, {\r\n    ChangeEvent,\r\n    useCallback,\r\n    useRef,\r\n    useState,\r\n    useEffect\r\n  } from \"react\";\r\n  \r\n  interface IFileTypes {\r\n    id: number;\r\n    object: File;\r\n  }\r\n  \r\n  const Upload = () => {\r\n    const [isDragging, setIsDragging] = useState<boolean>(false);\r\n    const [files, setFiles] = useState<IFileTypes[]>([]);\r\n  \r\n    const dragRef = useRef<HTMLLabelElement | null>(null);\r\n    const fileId = useRef<number>(0);\r\n  \r\n    const onChangeFiles = useCallback(\r\n      (e: ChangeEvent<HTMLInputElement> | any): void => {\r\n        let selectFiles: File[] = [];\r\n        let tempFiles: IFileTypes[] = files;\r\n  \r\n        if (e.type === \"drop\") {\r\n          selectFiles = e.dataTransfer.files;\r\n        } else {\r\n          selectFiles = e.target.files;\r\n        }\r\n  \r\n        for (const file of selectFiles) {\r\n          tempFiles = [\r\n            ...tempFiles,\r\n            {\r\n              id: fileId.current++,\r\n              object: file\r\n            }\r\n          ];\r\n        }\r\n  \r\n        setFiles(tempFiles);\r\n      },\r\n      [files]\r\n    );\r\n  \r\n    const handleFilterFile = useCallback(\r\n      (id: number): void => {\r\n        setFiles(files.filter((file: IFileTypes) => file.id !== id));\r\n      },\r\n      [files]\r\n    );\r\n  \r\n    const handleDragIn = useCallback((e: DragEvent): void => {\r\n      e.preventDefault();\r\n      e.stopPropagation();\r\n    }, []);\r\n  \r\n    const handleDragOut = useCallback((e: DragEvent): void => {\r\n      e.preventDefault();\r\n      e.stopPropagation();\r\n  \r\n      setIsDragging(false);\r\n    }, []);\r\n  \r\n    const handleDragOver = useCallback((e: DragEvent): void => {\r\n      e.preventDefault();\r\n      e.stopPropagation();\r\n  \r\n      if (e.dataTransfer!.files) {\r\n        setIsDragging(true);\r\n      }\r\n    }, []);\r\n  \r\n    const handleDrop = useCallback(\r\n      (e: DragEvent): void => {\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n  \r\n        onChangeFiles(e);\r\n        setIsDragging(false);\r\n      },\r\n      [onChangeFiles]\r\n    );\r\n  \r\n    const initDragEvents = useCallback((): void => {\r\n      if (dragRef.current !== null) {\r\n        dragRef.current.addEventListener(\"dragenter\", handleDragIn);\r\n        dragRef.current.addEventListener(\"dragleave\", handleDragOut);\r\n        dragRef.current.addEventListener(\"dragover\", handleDragOver);\r\n        dragRef.current.addEventListener(\"drop\", handleDrop);\r\n      }\r\n    }, [handleDragIn, handleDragOut, handleDragOver, handleDrop]);\r\n  \r\n    const resetDragEvents = useCallback((): void => {\r\n      if (dragRef.current !== null) {\r\n        dragRef.current.removeEventListener(\"dragenter\", handleDragIn);\r\n        dragRef.current.removeEventListener(\"dragleave\", handleDragOut);\r\n        dragRef.current.removeEventListener(\"dragover\", handleDragOver);\r\n        dragRef.current.removeEventListener(\"drop\", handleDrop);\r\n      }\r\n    }, [handleDragIn, handleDragOut, handleDragOver, handleDrop]);\r\n  \r\n    useEffect(() => {\r\n      initDragEvents();\r\n  \r\n      return () => resetDragEvents();\r\n    }, [initDragEvents, resetDragEvents]);\r\n  \r\n    return (\r\n      <div className=\"DragDrop\">\r\n        <input\r\n          type=\"file\"\r\n          id=\"fileUpload\"\r\n          style={{ display: \"none\" }}\r\n          multiple={true}\r\n          onChange={onChangeFiles}\r\n        />\r\n  \r\n        <label\r\n          className={isDragging ? \"DragDrop-File-Dragging\" : \"DragDrop-File\"}\r\n          htmlFor=\"fileUpload\"\r\n          ref={dragRef}\r\n        >\r\n          <div>파일 첨부</div>\r\n        </label>\r\n  \r\n        <div className=\"DragDrop-Files\">\r\n          {files.length > 0 &&\r\n            files.map((file: IFileTypes) => {\r\n              const {\r\n                id,\r\n                object: { name }\r\n              } = file;\r\n  \r\n              return (\r\n                <div key={id}>\r\n                  <div>{name}</div>\r\n                  <div\r\n                    className=\"DragDrop-Files-Filter\"\r\n                    onClick={() => handleFilterFile(id)}\r\n                  >\r\n                    X\r\n                  </div>\r\n                </div>\r\n              );\r\n            })}\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n  \r\n  export default Upload;"],"mappings":"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"},"metadata":{},"sourceType":"module"}